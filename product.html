<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title id="page-title">Product | Modish Junction</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
<link rel="stylesheet" href="./css/cart-ui.css">

  <style>
    :root {
      --primary: #d4593b;
      --secondary: #e89580;
      --dark: #1a0e08;
      --cream: #fffbf7;
    }

    * {
      margin: 0;
      padding: 0;
      box-sizing: border-box;
    }

    body {
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
      background: var(--cream);
      color: var(--dark);
      padding-top: 140px;
    }

    /* ================= HEADER ================= */
    header {
      position: fixed;
      top: 0;
      width: 100%;
      z-index: 2000;
      background: rgba(255,255,255,0.95);
      backdrop-filter: blur(10px);
      box-shadow: 0 4px 25px rgba(0,0,0,0.08);
    }

    .top-bar {
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff;
      text-align: center;
      padding: 8px;
      font-size: 14px;
      font-weight: 600;
    }

    nav {
      max-width: 1200px;
      margin: auto;
      padding: 16px 20px;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .logo {
      font-size: 22px;
      font-weight: 800;
      color: var(--primary);
    }

    .cart-icon {
      cursor: pointer;
      font-size: 18px;
    }

    /* ================= BACK BUTTON ================= */
    .back-home {
      max-width: 1200px;
      margin: 20px auto 0;
      padding: 0 20px;
    }

    .back-home a {
      display: inline-block;
      padding: 10px 22px;
      border-radius: 30px;
      background: #fff;
      color: var(--primary);
      border: 2px solid var(--primary);
      font-weight: 600;
      text-decoration: none;
      transition: 0.3s;
      box-shadow: 0 4px 15px rgba(212,89,59,0.2);
    }

    .back-home a:hover {
      background: var(--primary);
      color: #fff;
      transform: translateX(-4px);
    }

    /* ================= PRODUCT ================= */
    .product-wrapper {
      max-width: 1100px;
      margin: 30px auto;
      background: #fff;
      border-radius: 22px;
      padding: 30px;
      display: grid;
      grid-template-columns: 1fr 1fr;
      gap: 40px;
      box-shadow: 0 10px 35px rgba(0,0,0,0.1);
    }

    .product-img img {
      width: 100%;
      max-height: 520px;
      object-fit: cover;
      border-radius: 18px;
    }

    .product-details h1 {
      font-size: 28px;
      margin-bottom: 15px;
    }

    .price {
      margin: 15px 0;
    }

    .sale {
      font-size: 26px;
      color: var(--primary);
      font-weight: bold;
    }

    .original {
      text-decoration: line-through;
      color: #999;
      margin-left: 12px;
    }

    .description {
      margin: 20px 0;
      line-height: 1.7;
      color: #444;
    }


    .thumbs {
  display: flex;
  gap: 10px;
  margin-top: 12px;
}

.thumbs img {
  width: 70px;
  height: 70px;
  object-fit: cover;
  border-radius: 10px;
  cursor: pointer;
  border: 2px solid transparent;
  transition: 0.3s;
}

.thumbs img:hover {
  border-color: var(--primary);
}

    .add-btn {
      padding: 14px 26px;
      font-size: 16px;
      font-weight: bold;
      border: none;
      border-radius: 14px;
      cursor: pointer;
      background: linear-gradient(135deg, var(--primary), var(--secondary));
      color: #fff;
      transition: 0.3s;
    }

    .add-btn:hover {
      transform: scale(1.05);
      box-shadow: 0 8px 20px rgba(212,89,59,0.4);
    }


    

    /* ================= CART MODAL ================= */
    .nav-links {
  display: flex;
  list-style: none;
  gap: 2.5rem;
  align-items: center;
}

.nav-links a {
  text-decoration: none;
  color: var(--dark);
  font-weight: 500;
  transition: 0.3s;
}

.nav-links a:hover {
  color: var(--primary);
}

/* CART ITEM ‚Äì SAME STYLE AS DRESSES PAGE */
.cart-nav {
  cursor: pointer;
  font-weight: 600;
  color: var(--dark);
  display: flex;
  align-items: center;
  gap: 4px;
  transition: 0.3s;
}

.cart-nav:hover {
  color: var(--primary);
}

/* CART COUNT */
#cart-count {
  font-size: 14px;
  font-weight: bold;
  color: var(--primary);
}


    .image-viewer {
  position: relative;
}

.nav-btn {
  position: absolute;
  top: 50%;
  transform: translateY(-50%);
  background: rgba(255,255,255,0.9);
  border: none;
  font-size: 22px;
  padding: 10px 14px;
  border-radius: 50%;
  cursor: pointer;
  box-shadow: 0 4px 12px rgba(0,0,0,0.15);
}

.nav-btn.left {
  left: 10px;
}

.nav-btn.right {
  right: 10px;
}

.nav-btn:hover {
  background: var(--primary);
  color: #fff;
}

.thumbs img.active {
  border-color: var(--primary);
}
.size-box {
  margin: 20px 0;
}

.sizes {
  display: flex;
  gap: 12px;
  margin-top: 10px;
}

.size-btn {
  padding: 10px 16px;
  border-radius: 10px;
  border: 2px solid #ddd;
  background: #fff;
  cursor: pointer;
  font-weight: bold;
}

.size-btn.active,
.size-btn:hover {
  background: var(--primary);
  color: #fff;
  border-color: var(--primary);
}

.product-points {
  margin: 20px 0;
  font-size: 14px;
  line-height: 1.8;
}

    @media (max-width: 768px) {
      .product-wrapper {
        grid-template-columns: 1fr;
      }
    }
  </style>
</head>

<body>

<!-- HEADER -->
<header>
  <div class="top-bar">‚ú® Free Shipping on Orders Above ‚Çπ999 ‚ú®</div>
  <nav>
    <div class="logo">Modish Junction</div>
    <ul class="nav-links">
    <li><a href="./index.html">Home</a></li>
    <li><a href="./index.html#trending">Shop</a></li>
    <li><a href="./index.html#sale">Sale</a></li>
    <li onclick="openCart()" style="cursor:pointer">
        üõí <small id="cart-count">0</small>
    </li>
</ul>
     </nav>
</header>

<!-- BACK TO HOME -->
<div class="back-home">
  <a id="backLink"></a>
</div>


<!-- PRODUCT -->
<div id="product-container" class="product-wrapper"></div>


<script src="./js/data/products-winterwear.js"></script>
<script src="./js/data/products-dresses.js"></script>
<script src="./js/data/products-jeans.js"></script>
<script src="./js/data/products-loungewear.js"></script>
<script src="./js/data/products-toptees.js"></script>
<script src="./js/data/products-thrift.js"></script>
<script src="./js/data/products-3piece.js"></script>
<script src="./js/data/products-coords.js"></script>
<script src="./js/data/products-kurtis.js"></script>
<script src="./js/data/products-sale.js"></script>
<script src="./js/data/products-trending.js"></script>


<script>
  
  const params = new URLSearchParams(window.location.search);
  const slug = params.get("slug");
  const cleanSlug = slug?.trim().toLowerCase();


const category = params.get("category") || "winter";

let products;
if (category === "dress") products = dressProducts;
else if (category === "jeans") products = jeansProducts;
else if (category === "loungewear") products = loungewearProducts;
else if (category === "toptees") products = topteesProducts;
else if (category === "thrift") products = thriftProducts;
else if (category === "threepiece") products = threePieceProducts;
else if (category === "coords") products = coordsProducts;
else if (category === "kurtis") products = kurtisProducts;
else if (category === "sale") products = saleProducts;
else if (category === "trending") products = trendingProducts;
else products = winterProducts;





const product = products.find(
  p => p.slug.toLowerCase() === cleanSlug
);


  if (!product) {
    document.getElementById("product-container").innerHTML =
      "<h2>Product not found</h2>";
  } else {
    document.getElementById("page-title").innerText =
      product.name + " | Modish Junction";

    document.getElementById("product-container").innerHTML = `
      <div class="product-img">
        <div class="image-viewer">
          <button class="nav-btn left" onclick="prevImage()">‚ùÆ</button>
          <img id="mainImage" src="${product.images[0]}">
          <button class="nav-btn right" onclick="nextImage()">‚ùØ</button>
        </div>

        <div class="thumbs">
          ${product.images.map((img, i) => `
            <img src="${img}" onclick="changeImageByIndex(${i})"
                 class="${i === 0 ? 'active' : ''}">
          `).join("")}
        </div>
      </div>

      <div class="product-details">
        <h1>${product.name}</h1>

        <div class="price">
          <span class="sale">‚Çπ${product.price}</span>
          <span class="original">‚Çπ${product.originalPrice}</span>
        </div>

        <p class="description">${product.description}</p>

        <div class="size-box">
          <strong>Select Size:</strong>
          <div class="sizes">
            ${product.sizes.map(size => `
              <button class="size-btn" onclick="selectSize(this)">
                ${size}
              </button>
            `).join("")}
          </div>
        </div>

        <div class="product-points">
          <p>‚úì 100% Authentic Vintage</p>
          <p>‚úì Professionally cleaned & sanitized</p>
          <p>‚úì Quality checked for condition</p>
          <p>‚úì Free shipping on orders above ‚Çπ999</p>
          <p>‚úì 7-day return policy</p>
        </div>

        <button class="add-btn" id="addBtn">Add to Cart</button>
      </div>
    `;

    /* ================= IMAGE LOGIC ================= */
    let currentImageIndex = 0;
    const images = product.images;

    window.updateImage = function () {
      document.getElementById("mainImage").src = images[currentImageIndex];
      document.querySelectorAll(".thumbs img").forEach((img, i) => {
        img.classList.toggle("active", i === currentImageIndex);
      });
    };

    window.nextImage = function () {
      currentImageIndex = (currentImageIndex + 1) % images.length;
      updateImage();
    };

    window.prevImage = function () {
      currentImageIndex =
        (currentImageIndex - 1 + images.length) % images.length;
      updateImage();
    };

    window.changeImageByIndex = function (index) {
      currentImageIndex = index;
      updateImage();
    };

    /* ================= SIZE ================= */
    let selectedSize = null;

    window.selectSize = function (btn) {
      document.querySelectorAll(".size-btn").forEach(b =>
        b.classList.remove("active")
      );
      btn.classList.add("active");
      selectedSize = btn.innerText;
    };

    /* ================= ADD TO CART =================*/
document.getElementById("addBtn").onclick = () => {
  if (!selectedSize) {
    alert("Please select a size");
    return;
  }

  addToCart(
    product.id + "-" + selectedSize,
    product.name + " (Size: " + selectedSize + ")",
    product.price,
    window.location.href
  );

  document.getElementById("addBtn").innerText = "View Cart";
  document.getElementById("addBtn").onclick = openCart;
};

  }


const backLink = document.getElementById("backLink");

if (category === "dress") {
  backLink.href = "./western-wear/dresses.html";
  backLink.innerText = "‚Üê Back to Dresses";
} else if (category === "jeans") {
  backLink.href = "./western-wear/jeans-pants.html";
  backLink.innerText = "‚Üê Back to Jeans & Pants";
}else if (category === "loungewear") {
  backLink.href = "./western-wear/loungewear.html";
  backLink.innerText = "‚Üê Back to Loungewear";
} 
else if (category === "toptees") {
  backLink.href = "./western-wear/tops-tees.html";
  backLink.innerText = "‚Üê Back to Tops & Tees";
}
else if (category === "threepiece") {
  backLink.href = "./Ethnic-wear/3-piece-suit.html";
  backLink.innerText = "‚Üê Back to 3 Piece Suits";
}
else if (category === "thrift") {
  backLink.href = "./western-wear/thrift-collection.html";
  backLink.innerText = "‚Üê Back to Thrift Collection";
}
else if (category === "coords") {
  backLink.href = "./Ethnic-wear/co-ords.html";
  backLink.innerText = "‚Üê Back to Co-ords";
}
else if (category === "kurtis") {
  backLink.href = "./Ethnic-wear/short-kurtis.html";
  backLink.innerText = "‚Üê Back to Short Kurtis";
}
else if (category === "sale") {
  backLink.href = "./Sale/sale.html";
  backLink.innerText = "‚Üê Back to Sale";
}
else if (category === "trending") {
  backLink.href = "./index.html";
  backLink.innerText = "‚Üê Back to Home";
}
else {
  backLink.href = "./western-wear/winter-wear.html";
  backLink.innerText = "‚Üê Back to Winter Wear";
}


</script>

<script src="./js/cart.js"></script>
<!-- CART MODAL -->
<div id="cart-modal" class="cart-modal">
  <div class="cart-box">
    <h2>üõí Your Cart</h2>
    <div id="cart-items"></div>

    <div class="cart-footer">
      <strong id="cart-total"></strong>
      <div class="cart-actions">
        <button onclick="closeCart()">Close</button>
        <button class="whatsapp-btn" onclick="openWhatsAppOrder()">Order on WhatsApp</button>
      </div>
    </div>
  </div>

</body>
</html>
